<ion-header translucent>
  <ion-toolbar color="light" class="header-completo">
    <ion-title>Ubicación</ion-title>

    <!-- <ion-text color="danger" *ngIf="!ubicacionLugarInvalida" slot="start" class="ubicacion-alerta">
      ⚠️ Selecciona ubicación del auto
    </ion-text>

    <ion-text color="success" *ngIf="ubicacionLugarInvalida" slot="start" class="ubicacion-alerta">
      ✅ Ubicación seleccionada
    </ion-text> -->

    <ion-buttons slot="end">
      <ion-button (click)="cancelar()">
        <ion-icon name="close-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content fullscreen class="ion-padding">
  <ion-item lines="none">
    <!-- Input con autocompletado -->
    <ion-input fill="outline" placeholder="Buscar dirección, colonia o lugar..." #inputDireccion
      (ionInput)="onInputChange($event)">
    </ion-input>

    <!-- Botón de limpiar -->
    <ion-button fill="clear" size="small" slot="end" *ngIf="mostrarBotonLimpiar" (click)="limpiarInputDireccion()">
      <ion-icon name="close-circle-outline"></ion-icon>
    </ion-button>

    <!-- Botón de confirmar -->
    <ion-button class="btn-confirmar-ubicacion" slot="end" (click)="confirmarUbicacion()">
      <ion-icon name="checkmark-circle-outline" slot="icon-only"></ion-icon>
    </ion-button>

  </ion-item>


  <ion-text color="medium" style="font-size: 12px; margin-left: 10px;">
    Escribe el lugar, calle, colonia o ciudad para buscar.
  </ion-text>

  <!-- Contenedor del mapa o spinner -->
  <div style="margin-top: 1rem; width: 100%; height: 500px; border-radius: 2px; position: relative; overflow: hidden;">

    <!-- Spinner -->
    <div *ngIf="cargandoMapa" class="spinner-cargando">
      <ion-spinner name="crescent" color="primary"></ion-spinner>
      <p style="font-size: 13px; margin-top: 8px;">Cargando mapa...</p>
    </div>

    <!-- Mapa real -->
    <div #mapContainer [hidden]="cargandoMapa" style="width: 100%; height: 100%; border-radius: 12px;">
    </div>
  </div>



</ion-content>
